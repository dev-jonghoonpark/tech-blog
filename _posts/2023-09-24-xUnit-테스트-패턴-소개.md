---
layout: "post"
title: "xUnit 테스트 패턴 - 소개"
description: "xUnit 테스트 패턴 소개 포스트에서는 제라드 메스자로스의 책을 기반으로 xUnit 테스트 패턴에 대한 내용을 다룹니다\
  . 이 책은 Java 기반의 테스트 자동화 전략, 테스트 냄새, 테스트 자동화의 목표와 철학, 원칙, 전략, 그리고 xUnit의 기초와 다양한\
  \ 패턴을 포함하여 효과적인 테스트 조직 및 데이터베이스 테스트 방법을 제시합니다. 독자는 이 책을 통해 테스트 품질 향상과 유지 보수의 용이성\
  을 높일 수 있는 다양한 기법과 원칙을 배울 수 있습니다."
categories:
- "스터디-테스트"
tags:
- "xUnit"
- "JUnit"
- "테스트"
- "테스팅"
- "테스트 패턴"
- "테스트 철학"
- "테스트 스멜"
- "테스트 방법"
- "목차"
date: "2023-09-24 08:30:00 +0000"
toc: true
image:
  path: "/assets/thumbnails/2023-09-24-xUnit-테스트-패턴-소개.jpg"
---

xUnit 테스트 패턴 - 제라드 메스자로스

## ![book cover](/assets/images/2023-09-24-xUnit-테스트-패턴-소개/book-cover.jpg)

---

_단위 테스트_ 책을 다 읽었다.
그리고 다음 읽을 책을 이 책으로 정했다.

이 책은 [한국어 번역본](http://www.acornpub.co.kr/book/xunit)은 있긴 했는데 절판된 상태라 구하기 어려웠다.
그냥 원문을 구매할까 고민을 많이 하다가 그래도 번역본이 읽는 속도가 빠를것 같아 번역본을 구매하는 방향으로 결정했다.
어렵게 구한만큼 열심히 읽어야겠다 마음먹었다.

기존에 읽던 _단위 테스트_ 책은 C# 인데 _xUnit 테스트 패턴_ 책은 Java 라서 더 기대하고 있다.

본격적으로 시작하기 전에 목차를 통해 이 책에서 어떤 내용을 배울 수 있을지 알아보자.

# 목차

- ## 0부

  - 추천의 글 - 마틴 파울러
  - 저자 소개
  - 들어가며
  - (테스트 관련 기본 개념) 소개
  - 테스트 리팩터링

- ## 1부 설명

  - ### 1장 간단하게 둘러보기

    - 개요
    - 가장 확실하면서도 간단한 테스트 자동화 전략
      - 개발 프로세스
      - 고객 테스트
      - 단위 테스트
      - 테스트하기 쉬운 설계
      - 테스트 조직
    - 정리

  - ### 2장 테스트 냄새

    - 개요
    - 테스트 냄새 소개
      - 테스트 냄새란?
      - 테스트 냄새의 종류
      - 냄새가 날 때 대처 방안
    - 냄새 분류
      - 프로젝트 냄새
      - 동작 냄새
      - 코드 냄새
    - 정리

  - ### 3장 테스트 자동화의 목표

    - 개요
    - 테스트를 하는 이유
      - 테스트 자동화 경제학
    - 테스트 자동화의 목표
      - 테스트는 품질 향상에 도움이 돼야 한다.
      - 테스트는 SUT를 이해하는 데 도움이 돼야 한다.
      - 테스트는 위험을 줄여야(추가하지도 않아야) 한다
      - 테스트는 실행하기 쉬워야 한다
      - 테스트는 만들고 유지하기 쉬워야 한다.
      - 테스트는 두 가지 이유로 복잡해진다.
      - 시스템이 발전하는 동안 테스트에 필요한 유지 보수 비용이 최소화돼야 한다.
    - 정리

  - ### 4장 테스트 자동화의 철학

    - 개요
    - 철학이 중요한 이유
    - 철학적 차이점
      - 테스트 먼저냐 테스트 나중이냐?
      - 테스트냐 에제냐?
      - 단계별 테스트냐 한꺼번에 테스트냐?
      - 밖에서 안으로냐 안에서 밖으로냐?
      - 동작 검증이냐 상태 검증이냐?
      - 픽스처를 미리 설계하기냐 픽스처를 단계별 테스트에 따라 설계하기냐?
    - 철학이 다를 때
    - 나의 철학
    - 정리

  - ### 5장 테스트 자동화의 원칙

    - 개요
    - 원칙
    - 정리

  - ### 6장 테스트 자동화 전략

    - 개요
    - 무엇이 전략적인가?
    - 어떤 종류의 테스트를 자동화 해야하는가?
      - 기능별 테스트
      - 교차 기능 테스트
    - 어떤 테스트 자동화에는 어떤 어구를 사용해야 하는가?
      - 테스트 자동화 방식과 방법
      - xUnit 소개
      - xUnit의 스윗 스팟
    - 어떤 테스트 픽스처 전략을 사용하는가?
      - 무엇이 픽스처인가?
      - 주요 픽스처 전략
      - 1회용 신천한 픽스처
      - 지속되는 신선한 픽스처
      - 공유 픽스처 전략
    - 테스트 용이성을 보장하는 방법
      - 테스트 나중 - 각오가 돼 있는가?
      - 테스트 하기 쉬운 설례 - 미리 하기
      - 테스트 주도 테스트 용이성
      - 제어 위치와 관찰 위치
      - 상호작용 방식과 테스트 용이성 패턴
      - 나눈 후 테스트
    - 정리

  - ### 7장 XUnit 기초

    - 개요
    - xUnit 소개
    - 공통 특징
    - 최소한 알아야 할 것
      - 테스트 정의하기
      - 픽스처란?
      - 테스트들의 스위트 정의
      - 테스트 실행
      - 테스트 결과
    - xUnit의 내부
      - 테스트 명령
      - 테스트 스위트 객체
    - 절차적 세상에서의 xUnit
    - 정리

  - ### 8장 1회용 픽스처 관리

    - 개요
    - 테스트 픽스처 용어
      - 픽스처란
      - 신선한 픽스처란?
      - 무엇이 1회용 신선한 픽스처인가?
    - 신선한 픽스처 생성
      - 인라인 픽스처 설치
      - 위임 픽스처 설치
      - 암묵적 픽스처 설치
      - 혼학형 픽스처 설치
    - 1회용 신선한 픽스처 해제하기
    - 정리

  - ### 9장 지속되는 픽스처 관리

    - 개요
    - 지속되는 신선한 픽스처 관리
      - 무엇이 픽스처를 지속하게 만드는가?
      - 지속되는 신선한 픽스처로 인해 생기는 문제
      - 지속되는 신선한 픽스처 해제하기
      - 해제 코드를 아예 필요 없게 만들기
      - 느린 테스트에 대처하기
    - 공유 픽스처 관리
      - 공유 픽스처 접근하기
      - 공유 픽스처 생성자 호출하기

  - ### 10장 결과 검증

    - 개요
    - 자체 검사 테스트 만들기
      - 상태 검증이냐 동작 검증이냐?
    - 상태 검증
      - 내장 단언문 사용하기
      - 델타 단언문
      - 외부 결과 검증
    - 동작 검증
      - 절차형 동작 검증
      - 기대 동작 명세
    - 테스트 코드 중복 줄이기
      - 기대 객체
      - 맞춤 단언문
      - 결과를 설명하는 검증 메소드
      - 인자를 받는 테스트와 데이터 주도 테스트
    - 테스트 내 조건문 로직 피하기
      - if문 제거하기
      - 반복문 제거하기
    - 기타 기법
      - 거꾸로, 밖에서 안으로 작업하기
      - 테스트 주도 개발로 테스트 유틸리티 메소드 작성하기
      - 재사용 가능한 검증 로직을 둘 위치
    - 정리

  - ### 11장 테스트 대역 사용

    - 개요
    - 간접 입력과 간접 출력
      - 간접 입력을 신경 써야 하는 이유
      - 간접 출력을 신경 써야 하는 이유
      - 간접 입력은 어떻게 제어할 수 있을까?
      - 간접 출력은 어떻게 검증할 것인가?
    - 대역으로 테스트하기
      - 테스트 대역의 종류
      - 테스트 대역 제공하기
      - 테스트 대역 설정하기
      - 테스트 대역 설치하기
    - 테스트 대역의 다른 용도
      - 내시경 테스팅
      - 필요 주도 개발
      - 픽스처 설치 빠르게 하기
      - 테스트 실행 빠르게 하기
    - 기타 고려 사항
    - 정리

  - ### 12장 테스트 조직하기

    - 개요
    - 기본 xUnit 메커니즘
    - 적당한 크기의 테스트 메소드
    - 테스트 메소드와 테스트케이스 클래스
      - 클래스별 테스트케이스 클래스
      - 기능별 테스트케이스 클래스
      - 픽스처별 테스트케이스 클래스
      - 테스트 메소드 조직 전략 선택하기
    - 테스트 이름 규약
    - 테스트 스위트 조직하기
      - 테스트 집단 실행하기
      - 하나의 테스트 실행하기
    - 테스트 코드 재사용
      - 테스트 유틸리티 메소드 위치
      - 테스트케이스 상속과 재사용
    - 테스트 파일 구성
      - 내장 자체 테스트
      - 테스트 패키지
      - 테스트 의존
    - 정리

  - ### 13장 데이터베이스와 테스트

    - 개요
    - 데이터베이스 테스트하기
      - 데이터베이스를 이용한 테스트가 필요한 이유
      - 데이터베이스와 관련된 문제
    - 데이터베이스 없이 테스트하기
    - 데이터베이스 테스트하기
      - 저장 프로시저 테스트하기
      - 데이터 접근 레이어 테스트하기
      - 개발자의 독립성 보장하기
    - 데이터베이스로 테스트하기(한 번 더!)
    - 정리

  - ### 14장 효과적인 테스트 자동화를 위한 길잡이
    - 개요
    - 테스트 자동화의 어려움
    - 자동 테스트를 유지 보수하기 좋게 만드는 길잡이
      - 주요 경로 코드 실행
      - 주요 경로의 직접 출력 값 검증
      - 대안 경로 검증
      - 간접 출력 동작 검증
      - 테스트 실행과 유지 보수 최적화
    - 정리

- ## 2부 테스트 냄새

  - ### 15장 코드 냄새

    - 애매한 테스트
    - 테스트 내 조건문 로직
    - 테스트하기 힘든 코드
    - 테스트 코드 중복
    - 제품 코드 내 테스트 로직

  - ### 16장 동작 냄새

    - 단언(assertion) 룰렛
    - 변덕스러운 테스트
    - 깨지기 쉬운 테스트
    - 잦은 디버깅
    - 수동 조정
    - 느린 테스트

  - ### 17장 프로젝트 냄새
    - 버그투성이 테스트
    - 테스트를 작성하지 않는 개발자
    - 높은 테스트 유지 비용
    - 제품 버그

- ## 3부 패턴

  - ### 18장 테스트 전략 패턴

    - 기록 테스트
    - 스크립트 기반 테스트
    - 데이터 주도 테스트
    - 테스트 자동 프레임워크
    - 최소 픽스처
    - 표준 픽스처
    - 신선한 픽스처
    - 공유 픽스처
    - 뒷문(back door) 조작
    - 레이어 테스트

  - ### 19장 xUnit 기본 패턴

    - 테스트 메소드
    - 4단계 테스트
    - 단언 메소드
    - 단언 메시지
    - 테스트케이스 클래스
    - 테스트 실행기
    - 테스트케이스 객체
    - 테스트 스위트 객체
    - 테스트 찾기
    - 테스트 나열
    - 테스트 선택

  - ### 20장 픽스처 설치 패턴

    - 인라인 설치
    - 위임 설치
    - 생성 메소드
    - 암묵적 설치
    - 미리 만든 픽스처
    - 지연 설치
    - 스위트 픽스처 설치
    - 설치 데코레이터
    - 엮인(chained) 테스트

  - ### 21장 결과 검증 패턴

    - 상태 검증
    - 동작 검증
    - 맞춤 단언문
    - 델타 단언문
    - 보호 단언문
    - 작업 중인 테스트 단언문

  - ### 22장 픽스처 해제 패턴

    - 가비지 걸렉션 해제
    - 자동 해제
    - 인라인 해제
    - 암묵적 해제

  - ### 23장 테스트 대역 패턴

    - 테스트 대역
    - 테스트 스텁
    - 테스트 스파이
    - 모의(mock) 객체
    - 가짜(fack) 객체
    - 설정되는 테스트 대역
    - 하드 코딩된 테스트 대역
    - 테스트용 하위클래스

  - ### 24장 테스트 조직 패턴

    - 이름 있는 테스트 스위트
    - 테스트 유틸리티 세모드
    - 인자를 받는 테스트
    - 클래스별 테스트케이스 클래스
    - 기능별 테스트케이스 클래스
    - 픽스처별 테스트케이스 클래스
    - 테스트케이스 상위클래스
    - 테스트 도우미

  - ### 25장 데이터베이스 패턴

    - 데이터베이스 샌드박스
    - 저장 프로시저 테스트
    - 테이블 삭제 해제
    - 트랜잭션 롤백 해제

  - ### 26장 테스트하기 쉬운 패턴

    - 의존 주입
    - 의존 찾기
    - 대강 만든 객체
    - 테스트 훅

  - ### 27장 값 패턴

    - 리터럴(Literal) 값
    - 파상(Derived) 값
    - 생성 값
    - 더미 객체

- ## 4부 부록
